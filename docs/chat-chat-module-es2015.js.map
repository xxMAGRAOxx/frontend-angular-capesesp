{"version":3,"sources":["./src/app/main/apps/chat/sidenavs/left/left.component.ts","./src/app/main/apps/chat/sidenavs/left/left.component.html","./src/app/main/apps/chat/chat.service.ts","./src/app/main/apps/chat/chat.component.ts","./src/app/main/apps/chat/chat.component.html","./src/app/main/apps/chat/chat-view/chat-view.component.ts","./src/app/main/apps/chat/chat-view/chat-view.component.html","./node_modules/@angular/material/__ivy_ngcc__/fesm2015/card.js","./src/app/main/apps/chat/sidenavs/left/chats/chats.component.ts","./src/app/main/apps/chat/sidenavs/left/chats/chats.component.html","./src/app/main/apps/chat/sidenavs/left/user/user.component.ts","./src/app/main/apps/chat/sidenavs/left/user/user.component.html","./src/app/main/apps/chat/sidenavs/right/right.component.ts","./src/app/main/apps/chat/sidenavs/right/right.component.html","./src/app/main/apps/chat/sidenavs/right/contact/contact.component.ts","./src/app/main/apps/chat/sidenavs/right/contact/contact.component.html","./src/app/main/apps/chat/chat.module.ts","./src/app/main/apps/chat/chat-start/chat-start.component.ts","./src/app/main/apps/chat/chat-start/chat-start.component.html"],"names":[],"mappings":"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","file":"chat-chat-module-es2015.js","sourcesContent":["import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat-left-sidenav',\r\n    templateUrl  : './left.component.html',\r\n    styleUrls    : ['./left.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class ChatLeftSidenavComponent implements OnInit, OnDestroy\r\n{\r\n    view: string;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ChatService} _chatService\r\n     */\r\n    constructor(\r\n        private _chatService: ChatService\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.view = 'chats';\r\n\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this._chatService.onLeftSidenavViewChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(view => {\r\n                this.view = view;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<div [ngSwitch]=\"view\" class=\"views\">\r\n    <chat-chats-sidenav class=\"view\"\r\n                        *ngSwitchCase=\"'chats'\"\r\n                        [@slideInRight]>\r\n    </chat-chats-sidenav>\r\n\r\n    <chat-user-sidenav class=\"view\"\r\n                       *ngSwitchCase=\"'user'\"\r\n                       [@slideInLeft]\r\n                       fusePerfectScrollbar>\r\n    </chat-user-sidenav>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\r\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\r\n\r\nimport { FuseUtils } from '@fuse/utils';\r\n\r\n@Injectable()\r\nexport class ChatService implements Resolve<any>\r\n{\r\n    contacts: any[];\r\n    chats: any[];\r\n    user: any;\r\n    onChatSelected: BehaviorSubject<any>;\r\n    onContactSelected: BehaviorSubject<any>;\r\n    onChatsUpdated: Subject<any>;\r\n    onUserUpdated: Subject<any>;\r\n    onLeftSidenavViewChanged: Subject<any>;\r\n    onRightSidenavViewChanged: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {HttpClient} _httpClient\r\n     */\r\n    constructor(\r\n        private _httpClient: HttpClient\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.onChatSelected = new BehaviorSubject(null);\r\n        this.onContactSelected = new BehaviorSubject(null);\r\n        this.onChatsUpdated = new Subject();\r\n        this.onUserUpdated = new Subject();\r\n        this.onLeftSidenavViewChanged = new Subject();\r\n        this.onRightSidenavViewChanged = new Subject();\r\n    }\r\n\r\n    /**\r\n     * Resolver\r\n     *\r\n     * @param {ActivatedRouteSnapshot} route\r\n     * @param {RouterStateSnapshot} state\r\n     * @returns {Observable<any> | Promise<any> | any}\r\n     */\r\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> | Promise<any> | any\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            Promise.all([\r\n                this.getContacts(),\r\n                this.getChats(),\r\n                this.getUser()\r\n            ]).then(\r\n                ([contacts, chats, user]) => {\r\n                    this.contacts = contacts;\r\n                    this.chats = chats;\r\n                    this.user = user;\r\n                    resolve();\r\n                },\r\n                reject\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get chat\r\n     *\r\n     * @param contactId\r\n     * @returns {Promise<any>}\r\n     */\r\n    getChat(contactId): Promise<any>\r\n    {\r\n        const chatItem = this.user.chatList.find((item) => {\r\n            return item.contactId === contactId;\r\n        });\r\n\r\n        // Create new chat, if it's not created yet.\r\n        if ( !chatItem )\r\n        {\r\n            this.createNewChat(contactId).then((newChats) => {\r\n                this.getChat(contactId);\r\n            });\r\n            return;\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/chat-chats/' + chatItem.id)\r\n                .subscribe((response: any) => {\r\n                    const chat = response;\r\n\r\n                    const chatContact = this.contacts.find((contact) => {\r\n                        return contact.id === contactId;\r\n                    });\r\n\r\n                    const chatData = {\r\n                        chatId : chat.id,\r\n                        dialog : chat.dialog,\r\n                        contact: chatContact\r\n                    };\r\n\r\n                    this.onChatSelected.next({...chatData});\r\n\r\n                }, reject);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * Create new chat\r\n     *\r\n     * @param contactId\r\n     * @returns {Promise<any>}\r\n     */\r\n    createNewChat(contactId): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const contact = this.contacts.find((item) => {\r\n                return item.id === contactId;\r\n            });\r\n\r\n            const chatId = FuseUtils.generateGUID();\r\n\r\n            const chat = {\r\n                id    : chatId,\r\n                dialog: []\r\n            };\r\n\r\n            const chatListItem = {\r\n                contactId      : contactId,\r\n                id             : chatId,\r\n                lastMessageTime: '2017-02-18T10:30:18.931Z',\r\n                name           : contact.name,\r\n                unread         : null\r\n            };\r\n\r\n            // Add new chat list item to the user's chat list\r\n            this.user.chatList.push(chatListItem);\r\n\r\n            // Post the created chat\r\n            this._httpClient.post('api/chat-chats', {...chat})\r\n                .subscribe((response: any) => {\r\n\r\n                    // Post the new the user data\r\n                    this._httpClient.post('api/chat-user/' + this.user.id, this.user)\r\n                        .subscribe(newUserData => {\r\n\r\n                            // Update the user data from server\r\n                            this.getUser().then(updatedUser => {\r\n                                this.onUserUpdated.next(updatedUser);\r\n                                resolve(updatedUser);\r\n                            });\r\n                        });\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Select contact\r\n     *\r\n     * @param contact\r\n     */\r\n    selectContact(contact): void\r\n    {\r\n        this.onContactSelected.next(contact);\r\n    }\r\n\r\n    /**\r\n     * Set user status\r\n     *\r\n     * @param status\r\n     */\r\n    setUserStatus(status): void\r\n    {\r\n        this.user.status = status;\r\n    }\r\n\r\n    /**\r\n     * Update user data\r\n     *\r\n     * @param userData\r\n     */\r\n    updateUserData(userData): void\r\n    {\r\n        this._httpClient.post('api/chat-user/' + this.user.id, userData)\r\n            .subscribe((response: any) => {\r\n                    this.user = userData;\r\n                }\r\n            );\r\n    }\r\n\r\n    /**\r\n     * Update the chat dialog\r\n     *\r\n     * @param chatId\r\n     * @param dialog\r\n     * @returns {Promise<any>}\r\n     */\r\n    updateDialog(chatId, dialog): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const newData = {\r\n                id    : chatId,\r\n                dialog: dialog\r\n            };\r\n\r\n            this._httpClient.post('api/chat-chats/' + chatId, newData)\r\n                .subscribe(updatedChat => {\r\n                    resolve(updatedChat);\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get contacts\r\n     *\r\n     * @returns {Promise<any>}\r\n     */\r\n    getContacts(): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/chat-contacts')\r\n                .subscribe((response: any) => {\r\n                    resolve(response);\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get chats\r\n     *\r\n     * @returns {Promise<any>}\r\n     */\r\n    getChats(): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/chat-chats')\r\n                .subscribe((response: any) => {\r\n                    resolve(response);\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get user\r\n     *\r\n     * @returns {Promise<any>}\r\n     */\r\n    getUser(): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/chat-user')\r\n                .subscribe((response: any) => {\r\n                    resolve(response[0]);\r\n                }, reject);\r\n        });\r\n    }\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat',\r\n    templateUrl  : './chat.component.html',\r\n    styleUrls    : ['./chat.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class ChatComponent implements OnInit, OnDestroy\r\n{\r\n    selectedChat: any;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ChatService} _chatService\r\n     */\r\n    constructor(\r\n        private _chatService: ChatService\r\n    )\r\n    {\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this._chatService.onChatSelected\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(chatData => {\r\n                this.selectedChat = chatData;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<div id=\"chat\" class=\"page-layout carded fullwidth inner-scroll\">\r\n\r\n    <!-- TOP BACKGROUND -->\r\n    <div class=\"top-bg accent\"></div>\r\n    <!-- / TOP BACKGROUND -->\r\n\r\n    <!-- CENTER -->\r\n    <div class=\"center\">\r\n\r\n        <!-- CONTENT CARD -->\r\n        <div class=\"content-card\">\r\n\r\n            <mat-sidenav-container>\r\n\r\n                <!-- LEFT SIDENAV -->\r\n                <mat-sidenav class=\"sidenav\" position=\"start\" opened=\"true\" mode=\"side\"\r\n                             fuseMatSidenavHelper=\"chat-left-sidenav\" matIsLockedOpen=\"gt-md\">\r\n                    <chat-left-sidenav></chat-left-sidenav>\r\n                </mat-sidenav>\r\n                <!-- / LEFT SIDENAV -->\r\n\r\n                <!-- CONTENT -->\r\n                <chat-start *ngIf=\"!selectedChat\"></chat-start>\r\n\r\n                <chat-view *ngIf=\"selectedChat\"></chat-view>\r\n                <!-- / CONTENT -->\r\n\r\n                <!-- RIGHT SIDENAV -->\r\n                <mat-sidenav class=\"sidenav\" position=\"end\" opened=\"false\" mode=\"over\"\r\n                             fuseMatSidenavHelper=\"chat-right-sidenav\">\r\n                    <chat-right-sidenav></chat-right-sidenav>\r\n                </mat-sidenav>\r\n                <!-- / RIGHT SIDENAV -->\r\n\r\n            </mat-sidenav-container>\r\n\r\n        </div>\r\n        <!-- / CONTENT CARD -->\r\n\r\n    </div>\r\n    <!-- / CENTER -->\r\n\r\n</div>\r\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild, ViewChildren, ViewEncapsulation } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { FusePerfectScrollbarDirective } from '@fuse/directives/fuse-perfect-scrollbar/fuse-perfect-scrollbar.directive';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat-view',\r\n    templateUrl  : './chat-view.component.html',\r\n    styleUrls    : ['./chat-view.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ChatViewComponent implements OnInit, OnDestroy, AfterViewInit\r\n{\r\n    user: any;\r\n    chat: any;\r\n    dialog: any;\r\n    contact: any;\r\n    replyInput: any;\r\n    selectedChat: any;\r\n\r\n    @ViewChild(FusePerfectScrollbarDirective)\r\n    directiveScroll: FusePerfectScrollbarDirective;\r\n\r\n    @ViewChildren('replyInput')\r\n    replyInputField;\r\n\r\n    @ViewChild('replyForm')\r\n    replyForm: NgForm;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ChatService} _chatService\r\n     */\r\n    constructor(\r\n        private _chatService: ChatService\r\n    )\r\n    {\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this.user = this._chatService.user;\r\n        this._chatService.onChatSelected\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(chatData => {\r\n                if ( chatData )\r\n                {\r\n                    this.selectedChat = chatData;\r\n                    this.contact = chatData.contact;\r\n                    this.dialog = chatData.dialog;\r\n                    this.readyToReply();\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * After view init\r\n     */\r\n    ngAfterViewInit(): void\r\n    {\r\n        this.replyInput = this.replyInputField.first.nativeElement;\r\n        this.readyToReply();\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Decide whether to show or not the contact's avatar in the message row\r\n     *\r\n     * @param message\r\n     * @param i\r\n     * @returns {boolean}\r\n     */\r\n    shouldShowContactAvatar(message, i): boolean\r\n    {\r\n        return (\r\n            message.who === this.contact.id &&\r\n            ((this.dialog[i + 1] && this.dialog[i + 1].who !== this.contact.id) || !this.dialog[i + 1])\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Check if the given message is the first message of a group\r\n     *\r\n     * @param message\r\n     * @param i\r\n     * @returns {boolean}\r\n     */\r\n    isFirstMessageOfGroup(message, i): boolean\r\n    {\r\n        return (i === 0 || this.dialog[i - 1] && this.dialog[i - 1].who !== message.who);\r\n    }\r\n\r\n    /**\r\n     * Check if the given message is the last message of a group\r\n     *\r\n     * @param message\r\n     * @param i\r\n     * @returns {boolean}\r\n     */\r\n    isLastMessageOfGroup(message, i): boolean\r\n    {\r\n        return (i === this.dialog.length - 1 || this.dialog[i + 1] && this.dialog[i + 1].who !== message.who);\r\n    }\r\n\r\n    /**\r\n     * Select contact\r\n     */\r\n    selectContact(): void\r\n    {\r\n        this._chatService.selectContact(this.contact);\r\n    }\r\n\r\n    /**\r\n     * Ready to reply\r\n     */\r\n    readyToReply(): void\r\n    {\r\n        setTimeout(() => {\r\n            this.focusReplyInput();\r\n            this.scrollToBottom();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Focus to the reply input\r\n     */\r\n    focusReplyInput(): void\r\n    {\r\n        setTimeout(() => {\r\n            this.replyInput.focus();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Scroll to the bottom\r\n     *\r\n     * @param {number} speed\r\n     */\r\n    scrollToBottom(speed?: number): void\r\n    {\r\n        speed = speed || 400;\r\n        if ( this.directiveScroll )\r\n        {\r\n            this.directiveScroll.update();\r\n\r\n            setTimeout(() => {\r\n                this.directiveScroll.scrollToBottom(0, speed);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reply\r\n     */\r\n    reply(event): void\r\n    {\r\n        event.preventDefault();\r\n\r\n        if ( !this.replyForm.form.value.message )\r\n        {\r\n            return;\r\n        }\r\n\r\n        // Message\r\n        const message = {\r\n            who    : this.user.id,\r\n            message: this.replyForm.form.value.message,\r\n            time   : new Date().toISOString()\r\n        };\r\n\r\n        // Add the message to the chat\r\n        this.dialog.push(message);\r\n\r\n        // Reset the reply form\r\n        this.replyForm.reset();\r\n\r\n        // Update the server\r\n        this._chatService.updateDialog(this.selectedChat.chatId, this.dialog).then(response => {\r\n            this.readyToReply();\r\n        });\r\n    }\r\n}\r\n","<!-- CHAT -->\r\n<div class=\"chat\" fxFlex fxLayout=\"column\">\r\n\r\n    <!-- CHAT TOOLBAR -->\r\n    <mat-toolbar class=\"chat-toolbar\">\r\n\r\n        <div fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                <!-- RESPONSIVE CHATS BUTTON-->\r\n                <button mat-icon-button fxHide.gt-md class=\"responsive-chats-button mr-16\"\r\n                        fuseMatSidenavToggler=\"chat-left-sidenav\"\r\n                        aria-label=\"chats button\">\r\n                    <mat-icon>chat</mat-icon>\r\n                </button>\r\n                <!-- / RESPONSIVE CHATS BUTTON-->\r\n\r\n                <!-- CHAT CONTACT-->\r\n                <div class=\"chat-contact\" fxLayout=\"row\" fxLayoutAlign=\"start center\"\r\n                     fuseMatSidenavToggler=\"chat-right-sidenav\" (click)=\"selectContact()\">\r\n\r\n                    <div class=\"avatar-wrapper\">\r\n\r\n                        <img [src]=\"contact.avatar\"\r\n                             class=\"avatar\"\r\n                             alt=\"{{contact.name}}\"/>\r\n\r\n                        <mat-icon class=\"s-16 status\"\r\n                                  [ngClass]=\"contact.status\">\r\n                        </mat-icon>\r\n                    </div>\r\n\r\n                    <div class=\"chat-contact-name\">\r\n                        {{contact.name}}\r\n                    </div>\r\n\r\n                </div>\r\n                <!-- / CHAT CONTACT-->\r\n            </div>\r\n\r\n            <div>\r\n                <button mat-icon-button [matMenuTriggerFor]=\"contactMenu\" aria-label=\"more\">\r\n                    <mat-icon>more_vert</mat-icon>\r\n                </button>\r\n\r\n                <mat-menu #contactMenu=\"matMenu\">\r\n                    <button mat-menu-item fuseMatSidenavToggler=\"chat-right-sidenav\" (click)=\"selectContact()\">\r\n                        Contact Info\r\n                    </button>\r\n                </mat-menu>\r\n            </div>\r\n\r\n        </div>\r\n    </mat-toolbar>\r\n    <!-- / CHAT TOOLBAR -->\r\n\r\n    <!-- CHAT CONTENT -->\r\n    <div id=\"chat-content\" fxFlex=\"1 1 auto\"  fusePerfectScrollbar>\r\n\r\n        <!-- CHAT MESSAGES -->\r\n        <div class=\"chat-messages\">\r\n\r\n            <!-- MESSAGE -->\r\n            <div *ngFor=\"let message of dialog; let i = index\" class=\"message-row\"\r\n                 [ngClass]=\"{\r\n                            'me': message.who === user.id,\r\n                            'contact': message.who !== user.id,\r\n                            'first-of-group': isFirstMessageOfGroup(message, i),\r\n                            'last-of-group': isLastMessageOfGroup(message, i)\r\n                            }\">\r\n\r\n                <img *ngIf=\"shouldShowContactAvatar(message, i)\"\r\n                     src=\"{{contact.avatar}}\"\r\n                     class=\"avatar\">\r\n\r\n                <div class=\"bubble\">\r\n                    <div class=\"message\">{{message.message}}</div>\r\n                    <div class=\"time secondary-text\">{{message.time | date:'short'}}</div>\r\n                </div>\r\n\r\n            </div>\r\n            <!-- / MESSAGE -->\r\n\r\n        </div>\r\n        <!-- CHAT MESSAGES -->\r\n\r\n    </div>\r\n    <!-- / CHAT CONTENT -->\r\n\r\n    <!-- CHAT FOOTER -->\r\n    <div class=\"chat-footer\" fxFlex=\"0 0 auto\" fxLayout=\"column\">\r\n\r\n        <!-- REPLY FORM -->\r\n        <div class=\"reply-form\" fxFlex=\"0 0 auto\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n\r\n            <form #replyForm=\"ngForm\"\r\n                  (ngSubmit)=\"reply($event)\"\r\n                  (keydown.enter)=\"reply($event)\"\r\n                  fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                <mat-form-field class=\"message-text\" fxFlex floatLabel=\"never\" appearance=\"standard\">\r\n                    <textarea matInput #replyInput placeholder=\"Type your message\"\r\n                              ngModel name=\"message\" [rows]=\"1\" [matTextareaAutosize]=\"true\"></textarea>\r\n                </mat-form-field>\r\n\r\n                <button class=\"send-message-button\" mat-icon-button type=\"submit\" aria-label=\"Send message\">\r\n                    <mat-icon class=\"secondary-text\">send</mat-icon>\r\n                </button>\r\n\r\n            </form>\r\n\r\n        </div>\r\n        <!-- / REPLY FORM -->\r\n\r\n    </div>\r\n    <!-- / CHAT FOOTER-->\r\n\r\n</div>\r\n<!-- / CHAT -->\r\n","import { Directive, Input, Component, ViewEncapsulation, ChangeDetectionStrategy, Optional, Inject, NgModule } from '@angular/core';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\nimport { MatCommonModule } from '@angular/material/core';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Content of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\nimport * as ngcc0 from '@angular/core';\n\nconst _c0 = [\"*\", [[\"mat-card-footer\"]]];\nconst _c1 = [\"*\", \"mat-card-footer\"];\nconst _c2 = [[[\"\", \"mat-card-avatar\", \"\"], [\"\", \"matCardAvatar\", \"\"]], [[\"mat-card-title\"], [\"mat-card-subtitle\"], [\"\", \"mat-card-title\", \"\"], [\"\", \"mat-card-subtitle\", \"\"], [\"\", \"matCardTitle\", \"\"], [\"\", \"matCardSubtitle\", \"\"]], \"*\"];\nconst _c3 = [\"[mat-card-avatar], [matCardAvatar]\", \"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\", \"*\"];\nconst _c4 = [[[\"mat-card-title\"], [\"mat-card-subtitle\"], [\"\", \"mat-card-title\", \"\"], [\"\", \"mat-card-subtitle\", \"\"], [\"\", \"matCardTitle\", \"\"], [\"\", \"matCardSubtitle\", \"\"]], [[\"img\"]], \"*\"];\nconst _c5 = [\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\", \"img\", \"*\"];\nclass MatCardContent {\n}\nMatCardContent.fac = function MatCardContent_Factory(t) { return new (t || MatCardContent)(); };\nMatCardContent.dir = ngcc0.defineDirective({ type: MatCardContent, selectors: [[\"mat-card-content\"], [\"\", \"mat-card-content\", \"\"], [\"\", \"matCardContent\", \"\"]], hostAttrs: [1, \"mat-card-content\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardContent, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-card-content, [mat-card-content], [matCardContent]',\n                host: { 'class': 'mat-card-content' }\n            }]\n    }], null, null); })();\n/**\n * Title of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\nclass MatCardTitle {\n}\nMatCardTitle.fac = function MatCardTitle_Factory(t) { return new (t || MatCardTitle)(); };\nMatCardTitle.dir = ngcc0.defineDirective({ type: MatCardTitle, selectors: [[\"mat-card-title\"], [\"\", \"mat-card-title\", \"\"], [\"\", \"matCardTitle\", \"\"]], hostAttrs: [1, \"mat-card-title\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardTitle, [{\n        type: Directive,\n        args: [{\n                selector: `mat-card-title, [mat-card-title], [matCardTitle]`,\n                host: {\n                    'class': 'mat-card-title'\n                }\n            }]\n    }], null, null); })();\n/**\n * Sub-title of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\nclass MatCardSubtitle {\n}\nMatCardSubtitle.fac = function MatCardSubtitle_Factory(t) { return new (t || MatCardSubtitle)(); };\nMatCardSubtitle.dir = ngcc0.defineDirective({ type: MatCardSubtitle, selectors: [[\"mat-card-subtitle\"], [\"\", \"mat-card-subtitle\", \"\"], [\"\", \"matCardSubtitle\", \"\"]], hostAttrs: [1, \"mat-card-subtitle\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardSubtitle, [{\n        type: Directive,\n        args: [{\n                selector: `mat-card-subtitle, [mat-card-subtitle], [matCardSubtitle]`,\n                host: {\n                    'class': 'mat-card-subtitle'\n                }\n            }]\n    }], null, null); })();\n/**\n * Action section of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\nclass MatCardActions {\n    constructor() {\n        /** Position of the actions inside the card. */\n        this.align = 'start';\n    }\n}\nMatCardActions.fac = function MatCardActions_Factory(t) { return new (t || MatCardActions)(); };\nMatCardActions.dir = ngcc0.defineDirective({ type: MatCardActions, selectors: [[\"mat-card-actions\"]], hostAttrs: [1, \"mat-card-actions\"], hostVars: 2, hostBindings: function MatCardActions_HostBindings(rf, ctx) { if (rf & 2) {\n        ngcc0.classProp(\"mat-card-actions-align-end\", ctx.align === \"end\");\n    } }, inputs: { align: \"align\" }, exportAs: [\"matCardActions\"] });\nMatCardActions.propDecorators = {\n    align: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardActions, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-card-actions',\n                exportAs: 'matCardActions',\n                host: {\n                    'class': 'mat-card-actions',\n                    '[class.mat-card-actions-align-end]': 'align === \"end\"'\n                }\n            }]\n    }], function () { return []; }, { align: [{\n            type: Input\n        }] }); })();\n/**\n * Footer of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\nclass MatCardFooter {\n}\nMatCardFooter.fac = function MatCardFooter_Factory(t) { return new (t || MatCardFooter)(); };\nMatCardFooter.dir = ngcc0.defineDirective({ type: MatCardFooter, selectors: [[\"mat-card-footer\"]], hostAttrs: [1, \"mat-card-footer\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardFooter, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-card-footer',\n                host: { 'class': 'mat-card-footer' }\n            }]\n    }], null, null); })();\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\nclass MatCardImage {\n}\nMatCardImage.fac = function MatCardImage_Factory(t) { return new (t || MatCardImage)(); };\nMatCardImage.dir = ngcc0.defineDirective({ type: MatCardImage, selectors: [[\"\", \"mat-card-image\", \"\"], [\"\", \"matCardImage\", \"\"]], hostAttrs: [1, \"mat-card-image\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardImage, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-card-image], [matCardImage]',\n                host: { 'class': 'mat-card-image' }\n            }]\n    }], null, null); })();\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\nclass MatCardSmImage {\n}\nMatCardSmImage.fac = function MatCardSmImage_Factory(t) { return new (t || MatCardSmImage)(); };\nMatCardSmImage.dir = ngcc0.defineDirective({ type: MatCardSmImage, selectors: [[\"\", \"mat-card-sm-image\", \"\"], [\"\", \"matCardImageSmall\", \"\"]], hostAttrs: [1, \"mat-card-sm-image\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardSmImage, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-card-sm-image], [matCardImageSmall]',\n                host: { 'class': 'mat-card-sm-image' }\n            }]\n    }], null, null); })();\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\nclass MatCardMdImage {\n}\nMatCardMdImage.fac = function MatCardMdImage_Factory(t) { return new (t || MatCardMdImage)(); };\nMatCardMdImage.dir = ngcc0.defineDirective({ type: MatCardMdImage, selectors: [[\"\", \"mat-card-md-image\", \"\"], [\"\", \"matCardImageMedium\", \"\"]], hostAttrs: [1, \"mat-card-md-image\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardMdImage, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-card-md-image], [matCardImageMedium]',\n                host: { 'class': 'mat-card-md-image' }\n            }]\n    }], null, null); })();\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\nclass MatCardLgImage {\n}\nMatCardLgImage.fac = function MatCardLgImage_Factory(t) { return new (t || MatCardLgImage)(); };\nMatCardLgImage.dir = ngcc0.defineDirective({ type: MatCardLgImage, selectors: [[\"\", \"mat-card-lg-image\", \"\"], [\"\", \"matCardImageLarge\", \"\"]], hostAttrs: [1, \"mat-card-lg-image\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardLgImage, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-card-lg-image], [matCardImageLarge]',\n                host: { 'class': 'mat-card-lg-image' }\n            }]\n    }], null, null); })();\n/**\n * Large image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\nclass MatCardXlImage {\n}\nMatCardXlImage.fac = function MatCardXlImage_Factory(t) { return new (t || MatCardXlImage)(); };\nMatCardXlImage.dir = ngcc0.defineDirective({ type: MatCardXlImage, selectors: [[\"\", \"mat-card-xl-image\", \"\"], [\"\", \"matCardImageXLarge\", \"\"]], hostAttrs: [1, \"mat-card-xl-image\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardXlImage, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-card-xl-image], [matCardImageXLarge]',\n                host: { 'class': 'mat-card-xl-image' }\n            }]\n    }], null, null); })();\n/**\n * Avatar image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\nclass MatCardAvatar {\n}\nMatCardAvatar.fac = function MatCardAvatar_Factory(t) { return new (t || MatCardAvatar)(); };\nMatCardAvatar.dir = ngcc0.defineDirective({ type: MatCardAvatar, selectors: [[\"\", \"mat-card-avatar\", \"\"], [\"\", \"matCardAvatar\", \"\"]], hostAttrs: [1, \"mat-card-avatar\"] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardAvatar, [{\n        type: Directive,\n        args: [{\n                selector: '[mat-card-avatar], [matCardAvatar]',\n                host: { 'class': 'mat-card-avatar' }\n            }]\n    }], null, null); })();\n/**\n * A basic content container component that adds the styles of a Material design card.\n *\n * While this component can be used alone, it also provides a number\n * of preset styles for common card sections, including:\n * - mat-card-title\n * - mat-card-subtitle\n * - mat-card-content\n * - mat-card-actions\n * - mat-card-footer\n */\nclass MatCard {\n    // @breaking-change 9.0.0 `_animationMode` parameter to be made required.\n    constructor(_animationMode) {\n        this._animationMode = _animationMode;\n    }\n}\nMatCard.fac = function MatCard_Factory(t) { return new (t || MatCard)(ngcc0.directiveInject(ANIMATION_MODULE_TYPE, 8)); };\nMatCard.cmp = ngcc0.defineComponent({ type: MatCard, selectors: [[\"mat-card\"]], hostAttrs: [1, \"mat-card\", \"mat-focus-indicator\"], hostVars: 2, hostBindings: function MatCard_HostBindings(rf, ctx) { if (rf & 2) {\n        ngcc0.classProp(\"_mat-animation-noopable\", ctx._animationMode === \"NoopAnimations\");\n    } }, exportAs: [\"matCard\"], ngContentSelectors: _c1, decls: 2, vars: 0, template: function MatCard_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.projectionDef(_c0);\n        ngcc0.projection(0);\n        ngcc0.projection(1, 1);\n    } }, styles: [\".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\\n\"], encapsulation: 2, changeDetection: 0 });\nMatCard.ctorParameters = () => [\n    { type: String, decorators: [{ type: Optional }, { type: Inject, args: [ANIMATION_MODULE_TYPE,] }] }\n];\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCard, [{\n        type: Component,\n        args: [{\n                selector: 'mat-card',\n                exportAs: 'matCard',\n                template: \"<ng-content></ng-content>\\n<ng-content select=\\\"mat-card-footer\\\"></ng-content>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: {\n                    'class': 'mat-card mat-focus-indicator',\n                    '[class._mat-animation-noopable]': '_animationMode === \"NoopAnimations\"'\n                },\n                styles: [\".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\\n\"]\n            }]\n    }], function () { return [{ type: String, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [ANIMATION_MODULE_TYPE]\n            }] }]; }, null); })();\n/**\n * Component intended to be used within the `<mat-card>` component. It adds styles for a\n * preset header section (i.e. a title, subtitle, and avatar layout).\n * @docs-private\n */\nclass MatCardHeader {\n}\nMatCardHeader.fac = function MatCardHeader_Factory(t) { return new (t || MatCardHeader)(); };\nMatCardHeader.cmp = ngcc0.defineComponent({ type: MatCardHeader, selectors: [[\"mat-card-header\"]], hostAttrs: [1, \"mat-card-header\"], ngContentSelectors: _c3, decls: 4, vars: 0, consts: [[1, \"mat-card-header-text\"]], template: function MatCardHeader_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.projectionDef(_c2);\n        ngcc0.projection(0);\n        ngcc0.elementStart(1, \"div\", 0);\n        ngcc0.projection(2, 1);\n        ngcc0.elementEnd();\n        ngcc0.projection(3, 2);\n    } }, encapsulation: 2, changeDetection: 0 });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardHeader, [{\n        type: Component,\n        args: [{\n                selector: 'mat-card-header',\n                template: \"<ng-content select=\\\"[mat-card-avatar], [matCardAvatar]\\\"></ng-content>\\n<div class=\\\"mat-card-header-text\\\">\\n  <ng-content\\n      select=\\\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\\\"></ng-content>\\n</div>\\n<ng-content></ng-content>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: { 'class': 'mat-card-header' }\n            }]\n    }], null, null); })();\n/**\n * Component intended to be used within the `<mat-card>` component. It adds styles for a preset\n * layout that groups an image with a title section.\n * @docs-private\n */\nclass MatCardTitleGroup {\n}\nMatCardTitleGroup.fac = function MatCardTitleGroup_Factory(t) { return new (t || MatCardTitleGroup)(); };\nMatCardTitleGroup.cmp = ngcc0.defineComponent({ type: MatCardTitleGroup, selectors: [[\"mat-card-title-group\"]], hostAttrs: [1, \"mat-card-title-group\"], ngContentSelectors: _c5, decls: 4, vars: 0, template: function MatCardTitleGroup_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.projectionDef(_c4);\n        ngcc0.elementStart(0, \"div\");\n        ngcc0.projection(1);\n        ngcc0.elementEnd();\n        ngcc0.projection(2, 1);\n        ngcc0.projection(3, 2);\n    } }, encapsulation: 2, changeDetection: 0 });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardTitleGroup, [{\n        type: Component,\n        args: [{\n                selector: 'mat-card-title-group',\n                template: \"<div>\\n  <ng-content\\n      select=\\\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\\\"></ng-content>\\n</div>\\n<ng-content select=\\\"img\\\"></ng-content>\\n<ng-content></ng-content>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: { 'class': 'mat-card-title-group' }\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass MatCardModule {\n}\nMatCardModule.mod = ngcc0.defineNgModule({ type: MatCardModule });\nMatCardModule.inj = ngcc0.defineInjector({ factory: function MatCardModule_Factory(t) { return new (t || MatCardModule)(); }, imports: [[MatCommonModule], MatCommonModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(MatCardModule, { declarations: function () { return [MatCard, MatCardHeader, MatCardTitleGroup, MatCardContent, MatCardTitle, MatCardSubtitle, MatCardActions, MatCardFooter, MatCardSmImage, MatCardMdImage, MatCardLgImage, MatCardImage, MatCardXlImage, MatCardAvatar]; }, imports: function () { return [MatCommonModule]; }, exports: function () { return [MatCard, MatCardHeader, MatCardTitleGroup, MatCardContent, MatCardTitle, MatCardSubtitle, MatCardActions, MatCardFooter, MatCardSmImage, MatCardMdImage, MatCardLgImage, MatCardImage, MatCardXlImage, MatCardAvatar, MatCommonModule]; } }); })();\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(MatCardModule, [{\n        type: NgModule,\n        args: [{\n                imports: [MatCommonModule],\n                exports: [\n                    MatCard,\n                    MatCardHeader,\n                    MatCardTitleGroup,\n                    MatCardContent,\n                    MatCardTitle,\n                    MatCardSubtitle,\n                    MatCardActions,\n                    MatCardFooter,\n                    MatCardSmImage,\n                    MatCardMdImage,\n                    MatCardLgImage,\n                    MatCardImage,\n                    MatCardXlImage,\n                    MatCardAvatar,\n                    MatCommonModule,\n                ],\n                declarations: [\n                    MatCard, MatCardHeader, MatCardTitleGroup, MatCardContent, MatCardTitle, MatCardSubtitle,\n                    MatCardActions, MatCardFooter, MatCardSmImage, MatCardMdImage, MatCardLgImage, MatCardImage,\n                    MatCardXlImage, MatCardAvatar,\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MatCard, MatCardActions, MatCardAvatar, MatCardContent, MatCardFooter, MatCardHeader, MatCardImage, MatCardLgImage, MatCardMdImage, MatCardModule, MatCardSmImage, MatCardSubtitle, MatCardTitle, MatCardTitleGroup, MatCardXlImage };\n\n//# sourceMappingURL=card.js.map","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { MediaObserver } from '@angular/flex-layout';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { FuseMatSidenavHelperService } from '@fuse/directives/fuse-mat-sidenav/fuse-mat-sidenav.service';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat-chats-sidenav',\r\n    templateUrl  : './chats.component.html',\r\n    styleUrls    : ['./chats.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class ChatChatsSidenavComponent implements OnInit, OnDestroy\r\n{\r\n    chats: any[];\r\n    chatSearch: any;\r\n    contacts: any[];\r\n    searchText: string;\r\n    user: any;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ChatService} _chatService\r\n     * @param {FuseMatSidenavHelperService} _fuseMatSidenavHelperService\r\n     * @param {MediaObserver} _mediaObserver\r\n     */\r\n    constructor(\r\n        private _chatService: ChatService,\r\n        private _fuseMatSidenavHelperService: FuseMatSidenavHelperService,\r\n        public _mediaObserver: MediaObserver\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.chatSearch = {\r\n            name: ''\r\n        };\r\n        this.searchText = '';\r\n\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this.user = this._chatService.user;\r\n        this.chats = this._chatService.chats;\r\n        this.contacts = this._chatService.contacts;\r\n\r\n        this._chatService.onChatsUpdated\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(updatedChats => {\r\n                this.chats = updatedChats;\r\n            });\r\n\r\n        this._chatService.onUserUpdated\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(updatedUser => {\r\n                this.user = updatedUser;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Get chat\r\n     *\r\n     * @param contact\r\n     */\r\n    getChat(contact): void\r\n    {\r\n        this._chatService.getChat(contact);\r\n\r\n        if ( !this._mediaObserver.isActive('gt-md') )\r\n        {\r\n            this._fuseMatSidenavHelperService.getSidenav('chat-left-sidenav').toggle();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set user status\r\n     *\r\n     * @param status\r\n     */\r\n    setUserStatus(status): void\r\n    {\r\n        this._chatService.setUserStatus(status);\r\n    }\r\n\r\n    /**\r\n     * Change left sidenav view\r\n     *\r\n     * @param view\r\n     */\r\n    changeLeftSidenavView(view): void\r\n    {\r\n        this._chatService.onLeftSidenavViewChanged.next(view);\r\n    }\r\n\r\n    /**\r\n     * Logout\r\n     */\r\n    logout(): void\r\n    {\r\n        console.log('logout triggered');\r\n    }\r\n}\r\n","<!-- SIDENAV HEADER -->\r\n<div class=\"sidenav-header\">\r\n    <!-- CHATS TOOLBAR -->\r\n    <mat-toolbar>\r\n\r\n        <!-- TOOLBAR TOP -->\r\n        <mat-toolbar-row fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n\r\n            <!-- USER AVATAR WRAPPER -->\r\n            <div class=\"avatar-wrapper\">\r\n\r\n                <!-- USER AVATAR -->\r\n                <img (click)=\"changeLeftSidenavView('user')\"\r\n                     src=\"{{user.avatar}}\"\r\n                     class=\"mat-avatar avatar\"\r\n                     alt=\"{{user.name}}\"/>\r\n                <!-- / USER AVATAR -->\r\n\r\n                <mat-icon class=\"s-16 status\" [ngClass]=\"user.status\"\r\n                          [matMenuTriggerFor]=\"userStatusMenu\"></mat-icon>\r\n\r\n                <!-- USER STATUS -->\r\n                <mat-menu id=\"user-status-menu\" #userStatusMenu=\"matMenu\">\r\n\r\n                    <button mat-menu-item (click)=\"setUserStatus('online')\">\r\n                        <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                            <mat-icon class=\"s-16 status online\"></mat-icon>\r\n                            <span>Online</span>\r\n                        </div>\r\n                    </button>\r\n\r\n                    <button mat-menu-item (click)=\"setUserStatus('away')\">\r\n                        <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                            <mat-icon class=\"s-16 status away\"></mat-icon>\r\n                            <span>Away</span>\r\n                        </div>\r\n                    </button>\r\n\r\n                    <button mat-menu-item (click)=\"setUserStatus('do-not-disturb')\">\r\n                        <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                            <mat-icon class=\"s-16 status do-not-disturb\"></mat-icon>\r\n                            <span>Do not disturb</span>\r\n                        </div>\r\n                    </button>\r\n\r\n                    <button mat-menu-item (click)=\"setUserStatus('offline')\">\r\n                        <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                            <mat-icon class=\"s-16 status offline\"></mat-icon>\r\n                            <span>Offline</span>\r\n                        </div>\r\n                    </button>\r\n                </mat-menu>\r\n                <!-- / USER STATUS -->\r\n\r\n            </div>\r\n            <!-- / USER AVATAR -->\r\n\r\n            <div>\r\n                <button mat-icon-button\r\n                        [matMenuTriggerFor]=\"userMenu\"\r\n                        aria-label=\"more\">\r\n                    <mat-icon>more_vert</mat-icon>\r\n                </button>\r\n                <mat-menu #userMenu=\"matMenu\">\r\n                    <button mat-menu-item (click)=\"changeLeftSidenavView('user')\">\r\n                        Profile\r\n                    </button>\r\n                    <button mat-menu-item (click)=\"logout()\">\r\n                        Logout\r\n                    </button>\r\n                </mat-menu>\r\n            </div>\r\n\r\n        </mat-toolbar-row>\r\n        <!-- / TOOLBAR TOP -->\r\n\r\n        <!-- TOOLBAR BOTTOM -->\r\n        <mat-toolbar-row>\r\n\r\n            <!-- SEARCH -->\r\n            <div class=\"search-wrapper\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                <div class=\"search\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-icon class=\"s-16 secondary-text\">search</mat-icon>\r\n                    <input [(ngModel)]=\"searchText\" type=\"text\" placeholder=\"Search or start new chat\" fxFlex>\r\n                </div>\r\n\r\n            </div>\r\n            <!-- / SEARCH -->\r\n\r\n        </mat-toolbar-row>\r\n        <!-- / TOOLBAR BOTTOM -->\r\n\r\n    </mat-toolbar>\r\n    <!-- / CHATS TOOLBAR -->\r\n\r\n</div>\r\n<!-- / SIDENAV HEADER -->\r\n\r\n<!-- SIDENAV CONTENT -->\r\n<div class=\"sidenav-content\" fusePerfectScrollbar fxFlex>\r\n\r\n    <!-- CHATS CONTENT -->\r\n    <div *fuseIfOnDom [@animateStagger]=\"{value:'50'}\">\r\n\r\n        <!-- CHATS LIST-->\r\n        <div class=\"chat-list\" fxLayout=\"column\">\r\n\r\n            <div matSubheader *ngIf=\"(user.chatList | filter: searchText).length > 0\">\r\n                Chats\r\n            </div>\r\n\r\n            <button mat-button class=\"contact\"\r\n                    *ngFor=\"let chat of user.chatList | filter: searchText\"\r\n                    (click)=\"getChat(chat.contactId)\" ngClass=\"{'unread':contact.unread}\"\r\n                    [@animate]=\"{value:'*',params:{y:'100%'}}\">\r\n\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                    <div class=\"avatar-wrapper\" fxFlex=\"0 1 auto\" fxLayoutAlign=\"center center\">\r\n                        <img class=\"avatar\" [src]=\"contacts | getById:chat.contactId:'avatar'\"\r\n                             alt=\"{{contacts | getById:chat.contactId:'name'}}\"/>\r\n                        <mat-icon class=\"s-16 status\" [ngClass]=\"contacts | getById:chat.contactId:'status'\"></mat-icon>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxFlex>\r\n\r\n                        <div class=\"pr-4\" fxFlex fxLayout=\"column\" fxLayoutAlign=\"center start\">\r\n                            <div class=\"contact-name\">{{contacts | getById:chat.contactId:'name'}}</div>\r\n                            <div class=\"contact-last-message\">{{chat.lastMessage}}</div>\r\n                        </div>\r\n\r\n                        <div fxLayout=\"column\" fxLayoutAlign=\"start end\">\r\n                            <div class=\"contact-last-message-time\">\r\n                                {{chat.lastMessageTime | date}}\r\n                            </div>\r\n                            <div *ngIf=\"chat.unread\" class=\"mt-4 unread-message-count accent\">{{chat.unread}}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </button>\r\n\r\n        </div>\r\n        <!-- / CHATS LIST-->\r\n\r\n        <!-- CONTACTS LIST-->\r\n        <div class=\"contact-list\" fxLayout=\"column\">\r\n\r\n            <div matSubheader *ngIf=\"(contacts | filter: searchText).length > 0\">\r\n                Contacts\r\n            </div>\r\n\r\n            <button mat-button class=\"contact\"\r\n                    *ngFor=\"let contact of contacts| filter: searchText\"\r\n                    (click)=\"getChat(contact.id)\"\r\n                    [@animate]=\"{value:'*',params:{y:'100%'}}\">\r\n\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                    <div class=\"avatar-wrapper\" fxFlex=\"0 1 auto\">\r\n                        <img src=\"{{contact.avatar}}\" class=\"mat-avatar avatar\" alt=\"{{contact.name}}\"/>\r\n                        <mat-icon class=\"s-16 status\" [ngClass]=\"contact.status\"></mat-icon>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n                        <div class=\"contact-name\">{{contact.name}}</div>\r\n                        <p class=\"contact-mood\">{{contact.mood}}</p>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </button>\r\n\r\n        </div>\r\n        <!-- / CONTACTS LIST-->\r\n\r\n        <!-- NO RESULTS MESSAGE -->\r\n        <div *ngIf=\"(contacts | filter: searchText).length === 0\" class=\"no-results-message\">\r\n            No results..\r\n        </div>\r\n        <!-- NO RESULTS MESSAGE-->\r\n\r\n    </div>\r\n    <!-- / CHATS CONTENT -->\r\n\r\n</div>\r\n<!-- / SIDENAV CONTENT -->\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat-user-sidenav',\r\n    templateUrl  : './user.component.html',\r\n    styleUrls    : ['./user.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ChatUserSidenavComponent implements OnInit, OnDestroy\r\n{\r\n    user: any;\r\n    userForm: FormGroup;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ChatService} _chatService\r\n     */\r\n    constructor(\r\n        private _chatService: ChatService\r\n    )\r\n    {\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this.user = this._chatService.user;\r\n\r\n        this.userForm = new FormGroup({\r\n            mood  : new FormControl(this.user.mood),\r\n            status: new FormControl(this.user.status)\r\n        });\r\n\r\n        this.userForm.valueChanges\r\n            .pipe(\r\n                takeUntil(this._unsubscribeAll),\r\n                debounceTime(500),\r\n                distinctUntilChanged()\r\n            )\r\n            .subscribe(data => {\r\n                this.user.mood = data.mood;\r\n                this.user.status = data.status;\r\n                this._chatService.updateUserData(this.user);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Change left sidenav view\r\n     *\r\n     * @param view\r\n     */\r\n    changeLeftSidenavView(view): void\r\n    {\r\n        this._chatService.onLeftSidenavViewChanged.next(view);\r\n    }\r\n\r\n}\r\n","<!-- SIDENAV HEADER -->\r\n<div class=\"sidenav-header\">\r\n\r\n    <!-- USER TOOLBAR -->\r\n    <mat-toolbar class=\"accent\">\r\n\r\n        <!-- TOOLBAR TOP -->\r\n        <mat-toolbar-row fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n\r\n            <button mat-icon-button (click)=\"changeLeftSidenavView('chats')\" aria-label=\"back\">\r\n                <mat-icon>arrow_back</mat-icon>\r\n            </button>\r\n\r\n        </mat-toolbar-row>\r\n        <!-- / TOOLBAR TOP -->\r\n\r\n        <!-- TOOLBAR BOTTOM -->\r\n        <mat-toolbar-row class=\"toolbar-bottom\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n\r\n            <img [src]=\"user.avatar\" class=\"avatar user-avatar huge\" alt=\"{{user.name}}\"/>\r\n            <div class=\"user-name my-8\">{{user.name}}</div>\r\n\r\n        </mat-toolbar-row>\r\n        <!-- / TOOLBAR BOTTOM -->\r\n\r\n    </mat-toolbar>\r\n    <!-- / USER TOOLBAR -->\r\n</div>\r\n\r\n<!-- SIDENAV CONTENT -->\r\n<div class=\"sidenav-content py-32 px-24\" fxFlex>\r\n\r\n    <!-- USER MOOD -->\r\n    <form [formGroup]=\"userForm\" fxLayout=\"column\">\r\n\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"0 1 auto\">\r\n            <mat-label>Mood</mat-label>\r\n            <textarea matInput name=\"mood\" formControlName=\"mood\" rows=\"3\"></textarea>\r\n        </mat-form-field>\r\n\r\n        <mat-radio-group formControlName=\"status\" fxLayout=\"column\">\r\n\r\n            <mat-radio-button value=\"online\" class=\"py-8\">\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-icon class=\"status online mr-8\"></mat-icon>\r\n                    <span class=\"mat-h4 m-0\">Online</span>\r\n                </div>\r\n            </mat-radio-button>\r\n\r\n            <mat-radio-button value=\"away\" class=\"py-8\">\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-icon class=\"status away mr-8\"></mat-icon>\r\n                    <span class=\"mat-h4 m-0\">Away</span>\r\n                </div>\r\n            </mat-radio-button>\r\n\r\n            <mat-radio-button value=\"do-not-disturb\" class=\"py-8\">\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-icon class=\"status do-not-disturb mr-8\"></mat-icon>\r\n                    <span class=\"mat-h4 m-0\">Do not disturb</span>\r\n                </div>\r\n            </mat-radio-button>\r\n\r\n            <mat-radio-button value=\"offline\" class=\"py-8\">\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-icon class=\"status offline mr-8\"></mat-icon>\r\n                    <span class=\"mat-h4 m-0\">Offline</span>\r\n                </div>\r\n            </mat-radio-button>\r\n        </mat-radio-group>\r\n\r\n    </form>\r\n    <!-- / USER MOOD -->\r\n\r\n</div>\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat-right-sidenav',\r\n    templateUrl  : './right.component.html',\r\n    styleUrls    : ['./right.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class ChatRightSidenavComponent implements OnInit, OnDestroy\r\n{\r\n    view: string;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    constructor(\r\n        private _chatService: ChatService\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.view = 'contact';\r\n\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this._chatService.onRightSidenavViewChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(view => {\r\n                this.view = view;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n}\r\n","<div [ngSwitch]=\"view\" class=\"views\">\r\n\r\n    <chat-contact-sidenav class=\"view\"\r\n                          *ngSwitchCase=\"'contact'\"\r\n                          [@slideInRight]\r\n                          fusePerfectScrollbar>\r\n    </chat-contact-sidenav>\r\n\r\n</div>\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\n\r\n@Component({\r\n    selector     : 'chat-contact-sidenav',\r\n    templateUrl  : './contact.component.html',\r\n    styleUrls    : ['./contact.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ChatContactSidenavComponent implements OnInit, OnDestroy\r\n{\r\n    contact: any;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ChatService} _chatService\r\n     */\r\n    constructor(\r\n        private _chatService: ChatService\r\n    )\r\n    {\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this._chatService.onContactSelected\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(contact => {\r\n                this.contact = contact;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n}\r\n","<!-- SIDENAV HEADER -->\r\n<div class=\"sidenav-header\" *ngIf=\"contact\">\r\n\r\n    <!-- CONTACT TOOLBAR -->\r\n    <mat-toolbar class=\"accent\">\r\n\r\n        <!-- TOOLBAR TOP -->\r\n        <mat-toolbar-row fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n\r\n            <div>Contact Info</div>\r\n\r\n            <button mat-icon-button fuseMatSidenavToggler=\"chat-right-sidenav\" aria-label=\"close\">\r\n                <mat-icon>close</mat-icon>\r\n            </button>\r\n\r\n        </mat-toolbar-row>\r\n        <!-- / TOOLBAR TOP -->\r\n\r\n        <!-- TOOLBAR BOTTOM -->\r\n        <mat-toolbar-row class=\"toolbar-bottom\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n            <img [src]=\"contact.avatar\" class=\"avatar contact-avatar huge\" alt=\"{{contact.name}}\"/>\r\n            <div class=\"contact-name my-8\">{{contact.name}}</div>\r\n        </mat-toolbar-row>\r\n        <!-- / TOOLBAR BOTTOM -->\r\n\r\n    </mat-toolbar>\r\n    <!-- / CONTACT TOOLBAR -->\r\n</div>\r\n\r\n<!-- SIDENAV CONTENT -->\r\n<div class=\"sidenav-content py-32 px-24\" fxFlex fxLayout=\"column\" *ngIf=\"contact\">\r\n\r\n    <!-- CONTACT MOOD -->\r\n    <div class=\"secondary-text mb-8\">Mood</div>\r\n    <div>{{contact.mood}}</div>\r\n    <!-- / CONTACT MOOD -->\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { FuseSharedModule } from '@fuse/shared.module';\r\n\r\nimport { ChatService } from 'app/main/apps/chat/chat.service';\r\nimport { ChatComponent } from 'app/main/apps/chat/chat.component';\r\nimport { ChatStartComponent } from 'app/main/apps/chat/chat-start/chat-start.component';\r\nimport { ChatViewComponent } from 'app/main/apps/chat/chat-view/chat-view.component';\r\nimport { ChatChatsSidenavComponent } from 'app/main/apps/chat/sidenavs/left/chats/chats.component';\r\nimport { ChatUserSidenavComponent } from 'app/main/apps/chat/sidenavs/left/user/user.component';\r\nimport { ChatLeftSidenavComponent } from 'app/main/apps/chat/sidenavs/left/left.component';\r\nimport { ChatRightSidenavComponent } from 'app/main/apps/chat/sidenavs/right/right.component';\r\nimport { ChatContactSidenavComponent } from 'app/main/apps/chat/sidenavs/right/contact/contact.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '**',\r\n        component: ChatComponent,\r\n        children: [],\r\n        resolve: {\r\n            chat: ChatService\r\n        }\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ChatComponent,\r\n        ChatViewComponent,\r\n        ChatStartComponent,\r\n        ChatChatsSidenavComponent,\r\n        ChatUserSidenavComponent,\r\n        ChatLeftSidenavComponent,\r\n        ChatRightSidenavComponent,\r\n        ChatContactSidenavComponent\r\n    ],\r\n    imports     : [\r\n        RouterModule.forChild(routes),\r\n\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatListModule,\r\n        MatMenuModule,\r\n        MatRadioModule,\r\n        MatSidenavModule,\r\n        MatToolbarModule,\r\n\r\n        FuseSharedModule\r\n    ],\r\n    providers   : [\r\n        ChatService\r\n    ]\r\n})\r\nexport class ChatModule\r\n{\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\n@Component({\r\n    selector     : 'chat-start',\r\n    templateUrl  : './chat-start.component.html',\r\n    styleUrls    : ['./chat-start.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class ChatStartComponent\r\n{\r\n    constructor()\r\n    {\r\n    }\r\n}\r\n","<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n\r\n    <div class=\"big-circle app-logo\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\r\n         [@animate]=\"{value:'*',params:{delay:'50ms',scale:'0.2'}}\">\r\n        <mat-icon class=\"s-64 s-md-128 mat-accent\">chat</mat-icon>\r\n    </div>\r\n\r\n    <span class=\"app-title mt-48 mb-8\" [@animate]=\"{value:'*',params:{delay:'100ms',y:'25px'}}\">\r\n        Chat App\r\n    </span>\r\n\r\n    <span fxHide fxShow.gt-md class=\"app-message\" [@animate]=\"{value:'*',params:{delay:'200ms',y:'50px'}}\">\r\n        Select a contact to start a chat!\r\n    </span>\r\n\r\n    <button mat-raised-button fxHide.gt-md fuseMatSidenavToggler=\"chat-left-sidenav\">\r\n        Select a contact to start a chat!\r\n    </button>\r\n\r\n</div>\r\n"],"sourceRoot":"webpack:///"}