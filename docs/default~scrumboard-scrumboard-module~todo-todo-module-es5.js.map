{"version":3,"sources":["webpack:///node_modules/@swimlane/ngx-dnd/__ivy_ngcc__/fesm2015/swimlane-ngx-dnd.js","webpack:///node_modules/contra/emitter.js","webpack:///node_modules/atoa/atoa.js","webpack:///node_modules/ticky/ticky-browser.js","webpack:///node_modules/@swimlane/dragula/dragula.js","webpack:///node_modules/contra/debounce.js","webpack:///node_modules/crossvent/src/crossvent.js","webpack:///node_modules/crossvent/src/eventmap.js","webpack:///node_modules/custom-event/index.js","webpack:///node_modules/@swimlane/dragula/classes.js"],"names":["ContainerComponent_ng_container_1_ng_container_1_Template","rf","ctx","item_r3","$implicit","ctx_r2","dropZone","dropZones","copy","moves","removeOnSpill","droppableItemClass","ContainerComponent_ng_container_1_Template","ctx_r0","model","ContainerComponent_ng_content_2_Template","_c0","a0","_c1","ItemComponent_ng_container_1_Template","container","template","ItemComponent_ng_container_2_1_ng_template_0_Template","ItemComponent_ng_container_2_1_Template","ctx_r4","data","ItemComponent_ng_container_2_ng_container_2_ngx_dnd_container_3_Template","ctx_r7","children","ItemComponent_ng_container_2_ng_container_2_Template","ctx_r5","label","ItemComponent_ng_container_2_Template","undefined","ctx_r1","ItemComponent_ng_container_3_Template","ItemComponent_ng_container_4_1_ng_template_0_Template","ItemComponent_ng_container_4_1_Template","ctx_r8","ItemComponent_ng_container_4_div_2_Template","ctx_r9","ItemComponent_ng_container_4_Template","ctx_r3","dragula","DrakeStoreService","droppableMap","WeakMap","draggableMap","dragulaOptions","createDrakeOptions","drake","registerEvents","droppable","set","containers","push","idx","indexOf","splice","draggable","element","accepts","el","target","contains","elementComponent","get","targetComponent","includes","_","source","sourceComponent","handle","sibling","direction","revertOnSpill","dragElm","draggedItem","on","has","drag","emit","type","value","dropElmModel","dropIndex","Array","prototype","call","cancel","sourceModel","targetModel","hasDragModel","dragIndex","reorder","parentNode","removeChild","JSON","parse","stringify","drop","appendChild","remove","containerComponent","over","out","ɵfac","DrakeStoreService_Factory","t","ɵprov","factory","token","providedIn","ctorParameters","args","i","getNextId","DroppableDirective","renderer","drakesService","defaultZone","register","subscribe","addClass","removeClass","nativeElement","_dropZone","ngxDroppable","val","DroppableDirective_Factory","ɵdir","selectors","inputs","outputs","propDecorators","selector","DraggableDirective","droppableDirective","_moves","handles","dragDelay","dragDelayed","e","stopPropagation","clearTimeout","touchTimeout","setTimeout","update","_parentDropzones","registerDraggable","updateElements","removeDraggable","querySelectorAll","from","filter","h","findFirstDraggableParent","c","hasAttribute","canMove","hasHandle","some","handelFor","p","_dropZones","ngxDraggable","length","DraggableDirective_Factory","hostBindings","DraggableDirective_HostBindings","DraggableDirective_touchmove_HostBindingHandler","$event","onMove","DraggableDirective_touchstart_HostBindingHandler","onDown","DraggableDirective_touchend_HostBindingHandler","onUp","DragHandleDirective","DragHandleDirective_Factory","i$1","getNextId$1","ContainerComponent","_defaultZones","v","ContainerComponent_Factory","ɵcmp","contentQueries","ContainerComponent_ContentQueries","dirIndex","_t","templateChild","first","viewQuery","ContainerComponent_Query","templateInput","ngContentSelectors","decls","vars","consts","ContainerComponent_Template","directives","ItemComponent","styles","encapsulation","None","draggableDirective","_copy","_removeOnSpill","_droppableItemClass","itemClass","classes","moveDisabled","join","isArray","ItemComponent_Factory","hostVars","ItemComponent_HostBindings","classString","ItemComponent_Template","components","NgxDnDModule","ngModule","providers","ɵmod","ɵinj","NgxDnDModule_Factory","imports","ngJitMode","declarations","exports","atoa","debounce","module","emitter","thing","options","opts","evt","fn","once","_once","off","arguments","et","emitterSnapshot","shift","apply","slice","forEach","listen","async","a","n","si","setImmediate","tick","crossvent","doc","document","documentElement","initialContainers","len","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_renderTimer","_lastDropTarget","_grabbed","o","always","invalid","invalidTarget","isContainer","never","copySortSource","ignoreInputTextSelection","mirrorContainer","body","start","manualStart","end","destroy","dragging","spillOver","spillOut","events","op","touchy","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","preventDefault","clientX","clientY","ignore","whichMouseButton","metaKey","ctrlKey","item","context","canStart","isInput","focus","getCoord","elementBehindCursor","elementFromPoint","grabbed","offset","getOffset","left","top","add","renderMirrorImage","getParent","movable","nextEl","isCopy","cloneNode","ungrab","getElementBehindPoint","dropTarget","findDropTarget","parent","isInitialPlacement","cleanup","revert","reverts","initial","insertBefore","removeMirrorImage","rm","s","accepted","immediate","getImmediateChild","reference","getReference","x","y","style","changed","moved","rect","getBoundingClientRect","width","getRectWidth","height","getRectHeight","horizontal","mixed","outside","inside","resolve","after","touch","mouseup","mousedown","mousemove","pointers","microsoft","global","navigator","pointerEnabled","msPointerEnabled","touches","which","buttons","button","getScroll","scrollProp","offsetProp","clientHeight","point","state","className","right","bottom","tagName","isEditable","contentEditable","nextElementSibling","manually","nextSibling","nodeType","getEventHost","targetTouches","changedTouches","coord","host","missMap","pageX","pageY","ticky","run","customEvent","eventmap","addEvent","addEventEasy","removeEvent","removeEventEasy","hardCache","addEventListener","addEventHard","removeEventHard","fabricate","fabricateEvent","capturing","attachEvent","wrap","removeEventListener","listener","unwrap","detachEvent","makeCustomEvent","makeClassicEvent","dispatchEvent","fireEvent","createEvent","initEvent","createEventObject","detail","wrapperFactory","wrapper","originalEvent","event","srcElement","returnValue","cancelBubble","keyCode","find","eventname","ron","test","NativeCustomEvent","CustomEvent","useNative","foo","params","initCustomEvent","bubbles","cancelable","Boolean","cache","lookupClass","cached","lastIndex","RegExp","current","rmClass","replace","trim"],"mappings":"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","file":"default~scrumboard-scrumboard-module~todo-todo-module-es5.js","sourcesContent":["import { ɵɵdefineInjectable, Injectable, EventEmitter, Directive, ElementRef, Renderer2, Input, Output, HostListener, Component, ViewEncapsulation, ContentChild, TemplateRef, ViewChild, HostBinding, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as dragulaNamespace from '@swimlane/dragula';\n\n// see https://github.com/dherges/ng-packagr/issues/217\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction ContainerComponent_ng_container_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"ngx-dnd-item\", 3);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"model\", item_r3)(\"dropZone\", ctx_r2.dropZone)(\"dropZones\", ctx_r2.dropZones)(\"copy\", ctx_r2.copy)(\"moves\", ctx_r2.moves)(\"removeOnSpill\", ctx_r2.removeOnSpill)(\"droppableItemClass\", ctx_r2.droppableItemClass);\n} }\nfunction ContainerComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, ContainerComponent_ng_container_1_ng_container_1_Template, 2, 7, \"ng-container\", 2);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r0.model);\n} }\nfunction ContainerComponent_ng_content_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0, 0, [\"*ngIf\", \"!model\"]);\n} }\nconst _c0 = function (a0) { return { \"gu-empty\": a0 }; };\nconst _c1 = [\"*\"];\nfunction ItemComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"ngx-dnd-container\", 3);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"model\", ctx_r0.model)(\"template\", ctx_r0.container.template)(\"dropZone\", ctx_r0.dropZone)(\"dropZones\", ctx_r0.dropZones)(\"removeOnSpill\", ctx_r0.removeOnSpill)(\"droppableItemClass\", ctx_r0.droppableItemClass)(\"copy\", ctx_r0.copy);\n} }\nfunction ItemComponent_ng_container_2_1_ng_template_0_Template(rf, ctx) { }\nfunction ItemComponent_ng_container_2_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ItemComponent_ng_container_2_1_ng_template_0_Template, 0, 0, \"ng-template\", 5);\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r4.container.template)(\"ngTemplateOutletContext\", ctx_r4.data);\n} }\nfunction ItemComponent_ng_container_2_ng_container_2_ngx_dnd_container_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"ngx-dnd-container\", 3);\n} if (rf & 2) {\n    const ctx_r7 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵproperty(\"model\", ctx_r7.model.children)(\"template\", ctx_r7.container.template)(\"dropZone\", ctx_r7.dropZone)(\"dropZones\", ctx_r7.dropZones)(\"removeOnSpill\", ctx_r7.removeOnSpill)(\"droppableItemClass\", ctx_r7.droppableItemClass)(\"copy\", ctx_r7.copy);\n} }\nfunction ItemComponent_ng_container_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 6);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(3, ItemComponent_ng_container_2_ng_container_2_ngx_dnd_container_3_Template, 1, 7, \"ngx-dnd-container\", 7);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r5.model.label, \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r5.model.children);\n} }\nfunction ItemComponent_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, ItemComponent_ng_container_2_1_Template, 1, 2, undefined, 4);\n    ɵngcc0.ɵɵtemplate(2, ItemComponent_ng_container_2_ng_container_2_Template, 4, 2, \"ng-container\", 4);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.container.template);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.container.template);\n} }\nfunction ItemComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n} }\nfunction ItemComponent_ng_container_4_1_ng_template_0_Template(rf, ctx) { }\nfunction ItemComponent_ng_container_4_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ItemComponent_ng_container_4_1_ng_template_0_Template, 0, 0, \"ng-template\", 5);\n} if (rf & 2) {\n    const ctx_r8 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r8.container.template)(\"ngTemplateOutletContext\", ctx_r8.data);\n} }\nfunction ItemComponent_ng_container_4_div_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 6);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r9.model, \" \");\n} }\nfunction ItemComponent_ng_container_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, ItemComponent_ng_container_4_1_Template, 1, 2, undefined, 4);\n    ɵngcc0.ɵɵtemplate(2, ItemComponent_ng_container_4_div_2_Template, 2, 1, \"div\", 8);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.container.template);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.container.template);\n} }\nconst dragula = dragulaNamespace;\n/**\n * Central service that handles all events\n *\n * @export\n */\nclass DrakeStoreService {\n    constructor() {\n        this.droppableMap = new WeakMap();\n        this.draggableMap = new WeakMap();\n        this.dragulaOptions = this.createDrakeOptions();\n        this.drake = dragula([], this.dragulaOptions);\n        this.registerEvents();\n    }\n    register(droppable) {\n        this.droppableMap.set(droppable.container, droppable);\n        this.drake.containers.push(droppable.container);\n    }\n    remove(droppable) {\n        this.droppableMap.delete(droppable.container);\n        const idx = this.drake.containers.indexOf(droppable.container);\n        if (idx > -1) {\n            this.drake.containers.splice(idx, 1);\n        }\n    }\n    registerDraggable(draggable) {\n        this.draggableMap.set(draggable.element, draggable);\n    }\n    removeDraggable(draggable) {\n        this.draggableMap.delete(draggable.element);\n    }\n    createDrakeOptions() {\n        const accepts = (el, target /*, source: any, sibling: any */) => {\n            if (el.contains(target)) {\n                return false;\n            }\n            const elementComponent = this.draggableMap.get(el);\n            const targetComponent = this.droppableMap.get(target);\n            if (elementComponent && targetComponent) {\n                return elementComponent.dropZones.includes(targetComponent.dropZone);\n            }\n            return true;\n        };\n        const copy = (_, source) => {\n            const sourceComponent = this.droppableMap.get(source);\n            if (sourceComponent) {\n                return sourceComponent.copy;\n            }\n            return false;\n        };\n        const moves = (el, source, handle, sibling) => {\n            const elementComponent = this.draggableMap.get(el);\n            if (elementComponent) {\n                return elementComponent.moves(source, handle, sibling);\n            }\n            return true;\n        };\n        const direction = (el, target, source) => {\n            const targetComponent = this.droppableMap.get(target);\n            return targetComponent.direction || 'vertical';\n        };\n        return { accepts, copy, moves, revertOnSpill: true, direction };\n    }\n    registerEvents() {\n        let dragElm;\n        let draggedItem;\n        this.drake.on('drag', (el, source) => {\n            draggedItem = undefined;\n            dragElm = el;\n            if (!el || !source) {\n                return;\n            }\n            if (this.draggableMap.has(el)) {\n                const elementComponent = this.draggableMap.get(el);\n                draggedItem = elementComponent.model;\n                elementComponent.drag.emit({\n                    type: 'drag',\n                    el,\n                    source,\n                    value: draggedItem\n                });\n            }\n            if (this.droppableMap.has(source)) {\n                const sourceComponent = this.droppableMap.get(source);\n                this.dragulaOptions.removeOnSpill = sourceComponent.removeOnSpill;\n                sourceComponent.drag.emit({\n                    type: 'drag',\n                    el,\n                    source,\n                    sourceComponent,\n                    value: draggedItem\n                });\n            }\n        });\n        this.drake.on('drop', (el, target, source) => {\n            const targetComponent = this.droppableMap.get(target);\n            if (!targetComponent) {\n                // not a target, abort\n                return;\n            }\n            let dropElmModel = draggedItem;\n            const dropIndex = Array.prototype.indexOf.call(target.children, el);\n            if (dropIndex < 0) {\n                // dropIndex is bad... cancel\n                this.drake.cancel(true);\n                return;\n            }\n            const sourceComponent = this.droppableMap.get(source);\n            if (sourceComponent) {\n                const sourceModel = sourceComponent.model;\n                const targetModel = targetComponent.model;\n                const hasDragModel = !!(sourceModel && draggedItem);\n                const dragIndex = hasDragModel ? sourceModel.indexOf(draggedItem) : -1;\n                if (hasDragModel && dragIndex < 0) {\n                    // dragIndex is bad... cancel\n                    this.drake.cancel(true);\n                    return;\n                }\n                if (targetModel) {\n                    const reorder = dragIndex > -1 && sourceModel && target === source;\n                    const copy = !sourceModel || dragElm !== el;\n                    if (reorder) {\n                        sourceModel.splice(dropIndex, 0, sourceModel.splice(dragIndex, 1)[0]);\n                    }\n                    else {\n                        if (el.parentNode === target) {\n                            target.removeChild(el);\n                        }\n                        if (copy) {\n                            dropElmModel = JSON.parse(JSON.stringify(dropElmModel));\n                        }\n                        else {\n                            if (el.parentNode !== source) {\n                                // add element back, let angular remove it\n                                this.drake.cancel(true);\n                            }\n                            sourceModel.splice(dragIndex, 1);\n                        }\n                        targetModel.splice(dropIndex, 0, dropElmModel);\n                    }\n                }\n            }\n            targetComponent.drop.emit({\n                type: 'drop',\n                el,\n                source,\n                value: dropElmModel,\n                dropIndex\n            });\n        });\n        this.drake.on('remove', (el, container, source) => {\n            if (this.droppableMap.has(source)) {\n                const sourceComponent = this.droppableMap.get(source);\n                const sourceModel = sourceComponent.model;\n                const dragIndex = draggedItem && sourceModel ? sourceModel.indexOf(draggedItem) : -1;\n                if (dragIndex > -1) {\n                    if (el.parentNode !== source) {\n                        // add element back, let angular remove it\n                        source.appendChild(el);\n                    }\n                    sourceModel.splice(dragIndex, 1);\n                }\n                sourceComponent.remove.emit({\n                    type: 'remove',\n                    el,\n                    container,\n                    source,\n                    value: draggedItem\n                });\n            }\n        });\n        this.drake.on('cancel', (el, container, source) => {\n            if (this.droppableMap.has(container)) {\n                const containerComponent = this.droppableMap.get(container);\n                containerComponent.cancel.emit({\n                    type: 'cancel',\n                    el,\n                    container,\n                    source,\n                    value: draggedItem\n                });\n            }\n        });\n        this.drake.on('over', (el, container, source) => {\n            if (this.droppableMap.has(container)) {\n                const containerComponent = this.droppableMap.get(container);\n                containerComponent.over.emit({\n                    type: 'over',\n                    el,\n                    container,\n                    source,\n                    value: draggedItem\n                });\n            }\n        });\n        this.drake.on('out', (el, container, source) => {\n            if (this.droppableMap.has(container)) {\n                const containerComponent = this.droppableMap.get(container);\n                containerComponent.out.emit({\n                    type: 'out',\n                    el,\n                    container,\n                    source,\n                    value: draggedItem\n                });\n            }\n        });\n    }\n}\nDrakeStoreService.ɵfac = function DrakeStoreService_Factory(t) { return new (t || DrakeStoreService)(); };\nDrakeStoreService.ɵprov = ɵɵdefineInjectable({ factory: function DrakeStoreService_Factory() { return new DrakeStoreService(); }, token: DrakeStoreService, providedIn: \"root\" });\nDrakeStoreService.ctorParameters = () => [];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DrakeStoreService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return []; }, null); })();\n\nlet i = 10000;\nfunction getNextId() {\n    return i++;\n}\n/**\n * Makes the container droppable and children draggable.\n *\n * @export\n */\nclass DroppableDirective {\n    constructor(el, renderer, drakesService) {\n        this.el = el;\n        this.renderer = renderer;\n        this.drakesService = drakesService;\n        this.copy = false;\n        this.removeOnSpill = false;\n        this.direction = 'vertical';\n        this.drop = new EventEmitter();\n        this.drag = new EventEmitter();\n        this.over = new EventEmitter();\n        this.out = new EventEmitter();\n        this.remove = new EventEmitter();\n        this.cancel = new EventEmitter();\n    }\n    get container() {\n        return this.el.nativeElement;\n    }\n    get dropZone() {\n        return this._dropZone || this.ngxDroppable || this.defaultZone;\n    }\n    set dropZone(val) {\n        this._dropZone = val;\n    }\n    ngOnInit() {\n        this.defaultZone = `@@DefaultDropZone-${getNextId()}@@`;\n        this.drakesService.register(this);\n    }\n    ngAfterViewInit() {\n        this.over.subscribe(() => {\n            this.renderer.addClass(this.container, 'gu-over');\n        });\n        this.out.subscribe(() => {\n            this.renderer.removeClass(this.container, 'gu-over');\n        });\n    }\n    ngOnDestroy() {\n        this.drakesService.remove(this);\n    }\n}\nDroppableDirective.ɵfac = function DroppableDirective_Factory(t) { return new (t || DroppableDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(DrakeStoreService)); };\nDroppableDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DroppableDirective, selectors: [[\"\", \"ngxDroppable\", \"\"]], inputs: { copy: \"copy\", removeOnSpill: \"removeOnSpill\", direction: \"direction\", dropZone: \"dropZone\", model: \"model\", ngxDroppable: \"ngxDroppable\" }, outputs: { drop: \"drop\", drag: \"drag\", over: \"over\", out: \"out\", remove: \"remove\", cancel: \"cancel\" } });\nDroppableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: DrakeStoreService }\n];\nDroppableDirective.propDecorators = {\n    model: [{ type: Input }],\n    copy: [{ type: Input }],\n    removeOnSpill: [{ type: Input }],\n    ngxDroppable: [{ type: Input }],\n    direction: [{ type: Input }],\n    drop: [{ type: Output }],\n    drag: [{ type: Output }],\n    over: [{ type: Output }],\n    out: [{ type: Output }],\n    remove: [{ type: Output }],\n    cancel: [{ type: Output }],\n    dropZone: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DroppableDirective, [{\n        type: Directive,\n        args: [{ selector: '[ngxDroppable]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: DrakeStoreService }]; }, { copy: [{\n            type: Input\n        }], removeOnSpill: [{\n            type: Input\n        }], direction: [{\n            type: Input\n        }], drop: [{\n            type: Output\n        }], drag: [{\n            type: Output\n        }], over: [{\n            type: Output\n        }], out: [{\n            type: Output\n        }], remove: [{\n            type: Output\n        }], cancel: [{\n            type: Output\n        }], dropZone: [{\n            type: Input\n        }], model: [{\n            type: Input\n        }], ngxDroppable: [{\n            type: Input\n        }] }); })();\n\n/**\n * Adds properties and events to draggable elements\n *\n * @export\n */\nclass DraggableDirective {\n    constructor(el, drakesService, droppableDirective) {\n        this.el = el;\n        this.drakesService = drakesService;\n        this.droppableDirective = droppableDirective;\n        this._moves = true;\n        /*\n        ContentChildren doesn't get children created with NgTemplateOutlet\n        See https://github.com/angular/angular/issues/14842\n        Implemented via updateElements method\n      \n        @ContentChildren(DragHandleDirective, {descendants: true})\n        handlesList: QueryList<DragHandleDirective>; */\n        this.handles = [];\n        this.drag = new EventEmitter();\n        this.dragDelay = 200; // milliseconds\n        this.dragDelayed = true;\n    }\n    get dropZones() {\n        return this._dropZones || this.ngxDraggable || this._parentDropzones;\n    }\n    set dropZones(val) {\n        this._dropZones = val;\n    }\n    get hasHandle() {\n        return !!this.handles.length;\n    }\n    get element() {\n        return this.el.nativeElement;\n    }\n    // From: https://github.com/bevacqua/dragula/issues/289#issuecomment-277143172\n    onMove(e) {\n        if (!this._moves || this.dragDelayed) {\n            e.stopPropagation();\n            clearTimeout(this.touchTimeout);\n        }\n    }\n    onDown() {\n        if (this._moves) {\n            this.touchTimeout = setTimeout(() => {\n                this.dragDelayed = false;\n            }, this.dragDelay);\n        }\n    }\n    onUp() {\n        if (this._moves) {\n            clearTimeout(this.touchTimeout);\n            this.dragDelayed = true;\n        }\n    }\n    ngOnInit() {\n        this.update();\n    }\n    update() {\n        this._parentDropzones = [this.droppableDirective.dropZone];\n        this.drakesService.registerDraggable(this);\n        this.updateElements();\n    }\n    ngOnDestroy() {\n        this.drakesService.removeDraggable(this);\n    }\n    updateElements() {\n        const nativeElement = this.el.nativeElement;\n        const handles = nativeElement.querySelectorAll('[ngxdraghandle]');\n        this.handles = Array.from(handles).filter((h) => findFirstDraggableParent(h) === nativeElement);\n        function findFirstDraggableParent(c) {\n            while (c.parentNode) {\n                c = c.parentNode;\n                if (c.hasAttribute && c.hasAttribute('ngxdraggable')) {\n                    return c;\n                }\n            }\n        }\n    }\n    canMove(source, handle, sibling) {\n        if (typeof this._moves === 'boolean')\n            return this._moves;\n        if (typeof this._moves === 'function')\n            return this._moves(this.model, source, handle, sibling);\n        return true;\n    }\n    moves(source, handle, sibling) {\n        if (!this.canMove(source, handle, sibling))\n            return false;\n        return this.hasHandle ? this.handles.some(h => handelFor(handle, h)) : true;\n        function handelFor(c, p) {\n            if (c === p)\n                return true;\n            while ((c = c.parentNode) && c !== p)\n                ; // tslint:disable-line\n            return !!c;\n        }\n    }\n    ngDoCheck() {\n        this.updateElements();\n    }\n}\nDraggableDirective.ɵfac = function DraggableDirective_Factory(t) { return new (t || DraggableDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(DrakeStoreService), ɵngcc0.ɵɵdirectiveInject(DroppableDirective)); };\nDraggableDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DraggableDirective, selectors: [[\"\", \"ngxDraggable\", \"\"]], hostBindings: function DraggableDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"touchmove\", function DraggableDirective_touchmove_HostBindingHandler($event) { return ctx.onMove($event); })(\"touchstart\", function DraggableDirective_touchstart_HostBindingHandler() { return ctx.onDown(); })(\"touchend\", function DraggableDirective_touchend_HostBindingHandler() { return ctx.onUp(); });\n    } }, inputs: { _moves: [\"moves\", \"_moves\"], dropZones: \"dropZones\", ngxDraggable: \"ngxDraggable\", model: \"model\" }, outputs: { drag: \"drag\" } });\nDraggableDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DrakeStoreService },\n    { type: DroppableDirective }\n];\nDraggableDirective.propDecorators = {\n    ngxDraggable: [{ type: Input }],\n    model: [{ type: Input }],\n    dropZones: [{ type: Input }],\n    _moves: [{ type: Input, args: ['moves',] }],\n    drag: [{ type: Output }],\n    onMove: [{ type: HostListener, args: ['touchmove', ['$event'],] }],\n    onDown: [{ type: HostListener, args: ['touchstart',] }],\n    onUp: [{ type: HostListener, args: ['touchend',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DraggableDirective, [{\n        type: Directive,\n        args: [{ selector: '[ngxDraggable]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: DrakeStoreService }, { type: DroppableDirective }]; }, { _moves: [{\n            type: Input,\n            args: ['moves']\n        }], drag: [{\n            type: Output\n        }], dropZones: [{\n            type: Input\n        }], \n    // From: https://github.com/bevacqua/dragula/issues/289#issuecomment-277143172\n    onMove: [{\n            type: HostListener,\n            args: ['touchmove', ['$event']]\n        }], onDown: [{\n            type: HostListener,\n            args: ['touchstart']\n        }], onUp: [{\n            type: HostListener,\n            args: ['touchend']\n        }], ngxDraggable: [{\n            type: Input\n        }], model: [{\n            type: Input\n        }] }); })();\n\n/**\n * Adds properties and events to drag handle elements\n *\n * @export\n */\nclass DragHandleDirective {\n}\nDragHandleDirective.ɵfac = function DragHandleDirective_Factory(t) { return new (t || DragHandleDirective)(); };\nDragHandleDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DragHandleDirective, selectors: [[\"\", \"ngxDragHandle\", \"\"]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragHandleDirective, [{\n        type: Directive,\n        args: [{ selector: '[ngxDragHandle]' }]\n    }], null, null); })();\n\nlet i$1 = 0;\nfunction getNextId$1() {\n    return i$1++;\n}\n/**\n * Component that allows nested ngxDroppable and ngxDraggables\n *\n * @export\n */\nclass ContainerComponent {\n    constructor() {\n        this.copy = false;\n        this.removeOnSpill = false;\n        this.dropZone = `@@DefaultDropZone-${getNextId$1()}@@`;\n        this.drop = new EventEmitter();\n        this.drag = new EventEmitter();\n        this.over = new EventEmitter();\n        this.out = new EventEmitter();\n        this.remove = new EventEmitter();\n        this.cancel = new EventEmitter();\n    }\n    get dropZones() {\n        return this._dropZones || this._defaultZones;\n    }\n    set dropZones(val) {\n        this._dropZones = val;\n    }\n    // @Input() classes: any = {};\n    // @Input() dragulaOptions: any;\n    set templateInput(template) {\n        this.template = template;\n    }\n    set templateChild(template) {\n        this.template = template;\n    }\n    ngOnInit() {\n        this._defaultZones = [this.dropZone];\n    }\n    ngAfterViewInit() {\n        this.droppable.drag.subscribe((v) => this.drag.emit(v));\n        this.droppable.drop.subscribe((v) => this.drop.emit(v));\n        this.droppable.over.subscribe((v) => this.over.emit(v));\n        this.droppable.out.subscribe((v) => this.out.emit(v));\n        this.droppable.remove.subscribe((v) => this.remove.emit(v));\n        this.droppable.cancel.subscribe((v) => this.cancel.emit(v));\n    }\n}\nContainerComponent.ɵfac = function ContainerComponent_Factory(t) { return new (t || ContainerComponent)(); };\nContainerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ContainerComponent, selectors: [[\"ngx-dnd-container\"]], contentQueries: function ContainerComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticContentQuery(dirIndex, TemplateRef, true);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templateChild = _t.first);\n    } }, viewQuery: function ContainerComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(DroppableDirective, true);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.droppable = _t.first);\n    } }, inputs: { copy: \"copy\", removeOnSpill: \"removeOnSpill\", dropZone: \"dropZone\", dropZones: \"dropZones\", templateInput: [\"template\", \"templateInput\"], model: \"model\", droppableItemClass: \"droppableItemClass\", moves: \"moves\" }, outputs: { drop: \"drop\", drag: \"drag\", over: \"over\", out: \"out\", remove: \"remove\", cancel: \"cancel\" }, ngContentSelectors: _c1, decls: 3, vars: 9, consts: [[\"ngxDroppable\", \"\", 1, \"ngx-dnd-container\", 3, \"dropZone\", \"model\", \"copy\", \"ngClass\", \"removeOnSpill\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"ngxDraggable\", \"\", 3, \"model\", \"dropZone\", \"dropZones\", \"copy\", \"moves\", \"removeOnSpill\", \"droppableItemClass\"]], template: function ContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, ContainerComponent_ng_container_1_Template, 2, 1, \"ng-container\", 1);\n        ɵngcc0.ɵɵtemplate(2, ContainerComponent_ng_content_2_Template, 1, 0, \"ng-content\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"dropZone\", ctx.dropZone)(\"model\", ctx.model)(\"copy\", ctx.copy)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(7, _c0, !(ctx.model == null ? null : ctx.model.length)))(\"removeOnSpill\", ctx.removeOnSpill);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.model);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.model);\n    } }, directives: function () { return [DroppableDirective, ɵngcc1.NgClass, ɵngcc1.NgIf, ɵngcc1.NgForOf, ItemComponent, DraggableDirective]; }, styles: [\".ngx-dnd-container{background-color:hsla(0,0%,100%,.2);border:2px solid red;margin:10px;padding:10px}.ngx-dnd-container.gu-empty{border:2px dotted red}.ngx-dnd-container:nth-child(odd){background-color:rgba(0,0,0,.2)}.ngx-dnd-container .ex-moved{background-color:#e74c3c}.ngx-dnd-container .ex-over{background-color:hsla(0,0%,100%,.3)}.ngx-dnd-container .handle{background-color:rgba(0,0,0,.4);cursor:move;margin-right:5px;padding:0 5px}.no-select{-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.clearfix:after{clear:both;content:\\\" \\\";display:block;height:0}\"], encapsulation: 2 });\nContainerComponent.propDecorators = {\n    model: [{ type: Input }],\n    copy: [{ type: Input }],\n    removeOnSpill: [{ type: Input }],\n    droppableItemClass: [{ type: Input }],\n    dropZone: [{ type: Input }],\n    dropZones: [{ type: Input }],\n    moves: [{ type: Input }],\n    templateInput: [{ type: Input, args: ['template',] }],\n    templateChild: [{ type: ContentChild, args: [TemplateRef, { static: true },] }],\n    droppable: [{ type: ViewChild, args: [DroppableDirective, { static: true },] }],\n    drop: [{ type: Output }],\n    drag: [{ type: Output }],\n    over: [{ type: Output }],\n    out: [{ type: Output }],\n    remove: [{ type: Output }],\n    cancel: [{ type: Output }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngx-dnd-container',\n                template: \"<div\\n  ngxDroppable\\n  [dropZone]=\\\"dropZone\\\"\\n  [model]=\\\"model\\\"\\n  [copy]=\\\"copy\\\"\\n  [ngClass]=\\\"{ 'gu-empty': !model?.length }\\\"\\n  [removeOnSpill]=\\\"removeOnSpill\\\"\\n  class='ngx-dnd-container'>\\n  <ng-container *ngIf=\\\"model\\\">\\n    <ng-container *ngFor=\\\"let item of model\\\">\\n      <ngx-dnd-item\\n        ngxDraggable\\n        [model]=\\\"item\\\"\\n        [dropZone]=\\\"dropZone\\\"\\n        [dropZones]=\\\"dropZones\\\"\\n        [copy]=\\\"copy\\\"\\n        [moves]=\\\"moves\\\"\\n        [removeOnSpill]=\\\"removeOnSpill\\\"\\n        [droppableItemClass]=\\\"droppableItemClass\\\">\\n      </ngx-dnd-item>\\n    </ng-container>\\n  </ng-container>\\n  <ng-content *ngIf=\\\"!model\\\"></ng-content>\\n</div>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                styles: [\".ngx-dnd-container{background-color:hsla(0,0%,100%,.2);border:2px solid red;margin:10px;padding:10px}.ngx-dnd-container.gu-empty{border:2px dotted red}.ngx-dnd-container:nth-child(odd){background-color:rgba(0,0,0,.2)}.ngx-dnd-container .ex-moved{background-color:#e74c3c}.ngx-dnd-container .ex-over{background-color:hsla(0,0%,100%,.3)}.ngx-dnd-container .handle{background-color:rgba(0,0,0,.4);cursor:move;margin-right:5px;padding:0 5px}.no-select{-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.clearfix:after{clear:both;content:\\\" \\\";display:block;height:0}\"]\n            }]\n    }], function () { return []; }, { copy: [{\n            type: Input\n        }], removeOnSpill: [{\n            type: Input\n        }], dropZone: [{\n            type: Input\n        }], drop: [{\n            type: Output\n        }], drag: [{\n            type: Output\n        }], over: [{\n            type: Output\n        }], out: [{\n            type: Output\n        }], remove: [{\n            type: Output\n        }], cancel: [{\n            type: Output\n        }], dropZones: [{\n            type: Input\n        }], templateInput: [{\n            type: Input,\n            args: ['template']\n        }], templateChild: [{\n            type: ContentChild,\n            args: [TemplateRef, { static: true }]\n        }], model: [{\n            type: Input\n        }], droppableItemClass: [{\n            type: Input\n        }], moves: [{\n            type: Input\n        }], droppable: [{\n            type: ViewChild,\n            args: [DroppableDirective, { static: true }]\n        }] }); })();\n\n/**\n * Component that allows nested ngxDroppable and ngxDraggables\n * Should only be use inside a ngx-dnd-container\n * Outside a ngx-dnd-container use ngxDroppable\n *\n * @export\n */\nclass ItemComponent {\n    constructor(container, draggableDirective) {\n        this.container = container;\n        this.draggableDirective = draggableDirective;\n        this._copy = false;\n        this._removeOnSpill = false;\n    }\n    get dropZone() {\n        return this._dropZone || this.container.dropZone;\n    }\n    set dropZone(val) {\n        this._dropZone = val;\n    }\n    get dropZones() {\n        return this._dropZones || this.container.dropZones;\n    }\n    set dropZones(val) {\n        this._dropZones = val;\n    }\n    get droppableItemClass() {\n        return this._droppableItemClass || this.container.droppableItemClass;\n    }\n    set droppableItemClass(val) {\n        this._droppableItemClass = val;\n    }\n    get removeOnSpill() {\n        return typeof this._removeOnSpill === 'boolean' ? this._removeOnSpill : this.container.removeOnSpill;\n    }\n    set removeOnSpill(val) {\n        this._removeOnSpill = val;\n    }\n    get copy() {\n        return typeof this._copy === 'boolean' ? this._copy : this.container.copy;\n    }\n    set copy(val) {\n        this._copy = val;\n    }\n    get hasHandle() {\n        return this.draggableDirective.hasHandle;\n    }\n    get moveDisabled() {\n        return !this.draggableDirective.canMove();\n    }\n    get classString() {\n        const itemClass = typeof this.droppableItemClass === 'function' ? this.droppableItemClass(this.model) : this.droppableItemClass;\n        const classes = ['ngx-dnd-item', itemClass || ''];\n        if (this.moveDisabled) {\n            classes.push('move-disabled');\n        }\n        if (this.hasHandle) {\n            classes.push('has-handle');\n        }\n        return classes.join(' ');\n    }\n    get type() {\n        if (Array.isArray(this.model)) {\n            return 'array';\n        }\n        return typeof this.model;\n    }\n    ngOnInit() {\n        this.data = {\n            model: this.model,\n            type: this.type,\n            dropZone: this.dropZone,\n            template: this.container.template\n        };\n    }\n}\nItemComponent.ɵfac = function ItemComponent_Factory(t) { return new (t || ItemComponent)(ɵngcc0.ɵɵdirectiveInject(ContainerComponent), ɵngcc0.ɵɵdirectiveInject(DraggableDirective)); };\nItemComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ItemComponent, selectors: [[\"ngx-dnd-item\"]], hostVars: 2, hostBindings: function ItemComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(ctx.classString);\n    } }, inputs: { dropZone: \"dropZone\", dropZones: \"dropZones\", droppableItemClass: \"droppableItemClass\", removeOnSpill: \"removeOnSpill\", copy: \"copy\", model: \"model\" }, decls: 5, vars: 4, consts: [[3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [3, \"model\", \"template\", \"dropZone\", \"dropZones\", \"removeOnSpill\", \"droppableItemClass\", \"copy\"], [4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"ngx-dnd-content\"], [3, \"model\", \"template\", \"dropZone\", \"dropZones\", \"removeOnSpill\", \"droppableItemClass\", \"copy\", 4, \"ngIf\"], [\"class\", \"ngx-dnd-content\", 4, \"ngIf\"]], template: function ItemComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementContainerStart(0, 0);\n        ɵngcc0.ɵɵtemplate(1, ItemComponent_ng_container_1_Template, 2, 7, \"ng-container\", 1);\n        ɵngcc0.ɵɵtemplate(2, ItemComponent_ng_container_2_Template, 3, 2, \"ng-container\", 1);\n        ɵngcc0.ɵɵtemplate(3, ItemComponent_ng_container_3_Template, 1, 0, \"ng-container\", 1);\n        ɵngcc0.ɵɵtemplate(4, ItemComponent_ng_container_4_Template, 3, 2, \"ng-container\", 2);\n        ɵngcc0.ɵɵelementContainerEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngSwitch\", ctx.type);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"array\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"object\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"undefined\");\n    } }, directives: [ɵngcc1.NgSwitch, ɵngcc1.NgSwitchCase, ɵngcc1.NgSwitchDefault, ContainerComponent, ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet], styles: [\".ngx-dnd-box,.ngx-dnd-item{background-color:rgba(0,0,0,.2);border:1px solid #add8e6;display:block;margin:10px;padding:10px;transition:opacity .4s ease-in-out}.ngx-dnd-box.has-handle [ngxdraghandle],.ngx-dnd-box.has-handle [ngxDragHandle],.ngx-dnd-box:not(.has-handle):not(.move-disabled),.ngx-dnd-item.has-handle [ngxdraghandle],.ngx-dnd-item.has-handle [ngxDragHandle],.ngx-dnd-item:not(.has-handle):not(.move-disabled){cursor:move;cursor:grab;cursor:-webkit-grab}.ngx-dnd-box .ngx-dnd-content,.ngx-dnd-item .ngx-dnd-content{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.ngx-dnd-box:hover,.ngx-dnd-item:hover{border:1px solid #00f}.ngx-dnd-box{float:left;height:40px;line-height:20px;text-align:center;width:40px}.gu-mirror{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\\\";filter:alpha(opacity=80);margin:0!important;opacity:.8;position:fixed!important;z-index:9999!important}.gu-hide{display:none!important}.gu-unselectable{-moz-user-select:none!important;-ms-user-select:none!important;-webkit-user-select:none!important;user-select:none!important}.gu-transit{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\\\";filter:alpha(opacity=20);opacity:.2}\"], encapsulation: 2 });\nItemComponent.ctorParameters = () => [\n    { type: ContainerComponent },\n    { type: DraggableDirective }\n];\nItemComponent.propDecorators = {\n    model: [{ type: Input }],\n    dropZone: [{ type: Input }],\n    dropZones: [{ type: Input }],\n    droppableItemClass: [{ type: Input }],\n    removeOnSpill: [{ type: Input }],\n    copy: [{ type: Input }],\n    classString: [{ type: HostBinding, args: ['class',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ItemComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngx-dnd-item',\n                template: \"<ng-container [ngSwitch]=\\\"type\\\">\\n\\n  <ng-container *ngSwitchCase=\\\"'array'\\\">\\n    <ngx-dnd-container\\n      [model]=\\\"model\\\"\\n      [template]=\\\"container.template\\\"\\n      [dropZone]=\\\"dropZone\\\"\\n      [dropZones]=\\\"dropZones\\\"\\n      [removeOnSpill]=\\\"removeOnSpill\\\"\\n      [droppableItemClass]=\\\"droppableItemClass\\\"\\n      [copy]=\\\"copy\\\">\\n    </ngx-dnd-container>\\n  </ng-container>\\n\\n  <ng-container *ngSwitchCase=\\\"'object'\\\">\\n    <ng-template\\n      *ngIf=\\\"container.template\\\"\\n      [ngTemplateOutlet]=\\\"container.template\\\"\\n      [ngTemplateOutletContext]=\\\"data\\\">\\n    </ng-template>\\n    <ng-container *ngIf=\\\"!container.template\\\">\\n      <div\\n        class=\\\"ngx-dnd-content\\\">\\n        {{model.label}}\\n      </div>\\n      <ngx-dnd-container\\n        *ngIf=\\\"model.children\\\"\\n        [model]=\\\"model.children\\\"\\n        [template]=\\\"container.template\\\"\\n        [dropZone]=\\\"dropZone\\\"\\n        [dropZones]=\\\"dropZones\\\"\\n        [removeOnSpill]=\\\"removeOnSpill\\\"\\n        [droppableItemClass]=\\\"droppableItemClass\\\"\\n        [copy]=\\\"copy\\\">\\n      </ngx-dnd-container>\\n    </ng-container>\\n  </ng-container>\\n\\n  <ng-container *ngSwitchCase=\\\"'undefined'\\\">\\n  </ng-container>\\n\\n  <ng-container *ngSwitchDefault>\\n    <ng-template\\n      *ngIf=\\\"container.template\\\"\\n      [ngTemplateOutlet]=\\\"container.template\\\"\\n      [ngTemplateOutletContext]=\\\"data\\\">\\n    </ng-template>\\n    <div\\n      *ngIf=\\\"!container.template\\\"\\n      class=\\\"ngx-dnd-content\\\">\\n      {{model}}\\n    </div>\\n  </ng-container>\\n\\n</ng-container>\\n\\n\\n\\n\\n\\n\\n\\n\",\n                encapsulation: ViewEncapsulation.None,\n                styles: [\".ngx-dnd-box,.ngx-dnd-item{background-color:rgba(0,0,0,.2);border:1px solid #add8e6;display:block;margin:10px;padding:10px;transition:opacity .4s ease-in-out}.ngx-dnd-box.has-handle [ngxdraghandle],.ngx-dnd-box.has-handle [ngxDragHandle],.ngx-dnd-box:not(.has-handle):not(.move-disabled),.ngx-dnd-item.has-handle [ngxdraghandle],.ngx-dnd-item.has-handle [ngxDragHandle],.ngx-dnd-item:not(.has-handle):not(.move-disabled){cursor:move;cursor:grab;cursor:-webkit-grab}.ngx-dnd-box .ngx-dnd-content,.ngx-dnd-item .ngx-dnd-content{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.ngx-dnd-box:hover,.ngx-dnd-item:hover{border:1px solid #00f}.ngx-dnd-box{float:left;height:40px;line-height:20px;text-align:center;width:40px}.gu-mirror{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\\\";filter:alpha(opacity=80);margin:0!important;opacity:.8;position:fixed!important;z-index:9999!important}.gu-hide{display:none!important}.gu-unselectable{-moz-user-select:none!important;-ms-user-select:none!important;-webkit-user-select:none!important;user-select:none!important}.gu-transit{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\\\";filter:alpha(opacity=20);opacity:.2}\"]\n            }]\n    }], function () { return [{ type: ContainerComponent }, { type: DraggableDirective }]; }, { dropZone: [{\n            type: Input\n        }], dropZones: [{\n            type: Input\n        }], droppableItemClass: [{\n            type: Input\n        }], removeOnSpill: [{\n            type: Input\n        }], copy: [{\n            type: Input\n        }], classString: [{\n            type: HostBinding,\n            args: ['class']\n        }], model: [{\n            type: Input\n        }] }); })();\n\nconst components = [ContainerComponent, ItemComponent];\nconst directives = [DraggableDirective, DroppableDirective, DragHandleDirective];\nclass NgxDnDModule {\n    static forRoot() {\n        return {\n            ngModule: NgxDnDModule,\n            providers: [DrakeStoreService]\n        };\n    }\n}\nNgxDnDModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NgxDnDModule });\nNgxDnDModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NgxDnDModule_Factory(t) { return new (t || NgxDnDModule)(); }, imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxDnDModule, { declarations: function () { return [ContainerComponent, ItemComponent, DraggableDirective, DroppableDirective, DragHandleDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [ContainerComponent, ItemComponent, DraggableDirective, DroppableDirective, DragHandleDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxDnDModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [...components, ...directives],\n                exports: [...components, ...directives]\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ContainerComponent, DragHandleDirective, DraggableDirective, DrakeStoreService, DroppableDirective, ItemComponent, NgxDnDModule };\n\n//# sourceMappingURL=swimlane-ngx-dnd.js.map","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n    // truthy check fixes #239, equality fixes #207\n    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n      return;\n    }\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e);\n      var clientY = getCoord('clientY', e);\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target) && item.parent === target) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var direction = typeof o.direction === 'function' ? o.direction(_item, dropTarget, _source) : o.direction;\n    var horizontal = direction === 'horizontal';\n    var mixed = direction === 'mixed';\n    return (target === dropTarget || mixed) ? outside() : inside();\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!mixed && !horizontal && (rect.top + rect.height / 2) > y) { return el; }\n        if (mixed && (rect.left + rect.width) > x && (rect.top + rect.height) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  var p = point || {};\n  var state = p.className;\n  var el;\n  p.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  p.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n"]}